<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>WildHealthDB - Source and Source Records</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./specimen.html" rel="next">
<link href="./incident.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./source_source_records.html">Source and Source Records</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">WildHealthDB</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/dmontecino/WH_Database" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="./WildHealthDB.pdf" rel="" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./surveillance_objective.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Surveillance Activity</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./field_activity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Field Visit</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./location.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Location</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./incident.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Event</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./source_source_records.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Source and Source Records</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./specimen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Specimens</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./diagnostics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diagnostics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_dictionary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Dictionary</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#group-source" id="toc-group-source" class="nav-link active" data-scroll-target="#group-source">Group Source</a>
  <ul class="collapse">
  <li><a href="#group-source-record" id="toc-group-source-record" class="nav-link" data-scroll-target="#group-source-record">Group Source Record</a></li>
  </ul></li>
  <li><a href="#animal-source" id="toc-animal-source" class="nav-link" data-scroll-target="#animal-source">Animal Source</a>
  <ul class="collapse">
  <li><a href="#animal-source-record" id="toc-animal-source-record" class="nav-link" data-scroll-target="#animal-source-record">Animal Source Record</a></li>
  <li><a href="#carcass" id="toc-carcass" class="nav-link" data-scroll-target="#carcass">Carcass</a></li>
  </ul></li>
  <li><a href="#environmental-source" id="toc-environmental-source" class="nav-link" data-scroll-target="#environmental-source">Environmental Source</a>
  <ul class="collapse">
  <li><a href="#environmental-source-record" id="toc-environmental-source-record" class="nav-link" data-scroll-target="#environmental-source-record">Environmental Source Record</a></li>
  </ul></li>
  <li><a href="#arthropod-source" id="toc-arthropod-source" class="nav-link" data-scroll-target="#arthropod-source">Arthropod Source</a>
  <ul class="collapse">
  <li><a href="#arthopod-source-record" id="toc-arthopod-source-record" class="nav-link" data-scroll-target="#arthopod-source-record">Arthopod Source Record</a></li>
  </ul></li>
  <li><a href="#final-comment-on-sources-and-source-records" id="toc-final-comment-on-sources-and-source-records" class="nav-link" data-scroll-target="#final-comment-on-sources-and-source-records">Final Comment on Sources and Source Records</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Source and Source Records</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>A Source in the database is a unit that can be observed and provide Specimens, including carcasses, organic tissue, abiotic tissue, or arthropods. The database manages four types of Sources: i) a co-specific group of animals (Group Source), ii) individual animals (Animal Source), iii) sites that can provide abiotic tissue of interest or biotic material of animal origin whose individual or group animal origin is unknown (Environmental Source), and iv) sites where active or passive collection arthropods at any life stage is completed (e.g., a pond in a house). A Group Source could correspond to a specific bat roost of species X sourcing guano, an Animal Source could be a collared animal, an Environmental Source could be a site where bird guano is collected from, and an Arthropod Source could be a site where mosquito larvae are collected from.</p>
<p>Sources contain time-independent data only, such as the species of an animal in the case of a Group Source or an Animal Source (more below). Sources can be created independently in the database and they might not belong to any Surveillance Activity. For example, a population of animals of the same species all individually identified before the a surveillance Project starts. In that case, it is possible to add all these individuals as Animal Sources to the database, although all, none, or some of them could be captured and sampled during a Project. Moreover, Sources in the database are available to be added to all Projects that are targeting the corresponding Source type and taxonomy.</p>
<p>Sources observed, collected, or captured at time <strong>t</strong> are added to Events. A Source observed, collected, or captured at time <strong>t</strong> provides a Source Record (The Source at time <strong>t</strong>) to the Event. Records contain time-dependent data only, such as health status at time <strong>t</strong>. <strong>An Event can contain any number of Source Records associated with Sources or any type</strong>. For example, an Event can contain Group Source Records, Animal Source Records, Environmental Source Records, and Invertebrate Source Records.</p>
<p>Sources individually identified can be followed longitudinally and belong to multiple Events over time. For example, a specific bat roost with species X (Group Source) can provide guano over time. Sources that are not individually identified (Group and Animal Sources might not be individually identified) are linked to a single Event, when they are observed or captured, through a unique Source Record. For example, a bat caught in a mist net and not identified individually gets a Source in the database and its unique Source Record linked to the capture Event.</p>
<section id="group-source" class="level2">
<h2 class="anchored" data-anchor-id="group-source">Group Source</h2>
<p>A Group Source is a unit of co-specific individuals (animals of the same species) associated to a herd, an area, a site, a farm, a cage, a stall, an enclosure, or another that makes the individuals part a single epidemiological unit. Group Sources can be observed, captured, and provide Specimens. Data of a Group Source include the species, the identifier, the cross identifier, and the date of extinction (see Data Dictionary).</p>
<p>The purpose of Group Source is to record individuals at health events at the species level instead of individual by individual. This can occur when herds are the unit of interest, when protected area rangers find animals of the same species in a health event, or animals in a unit such as a cage, stall, or vendor of a market. For example, animals of two species in a single cage. If the animals are not meant to be tracked individually, the animals of each species in the cage represent a Group Source.</p>
<section id="group-source-record" class="level3">
<h3 class="anchored" data-anchor-id="group-source-record">Group Source Record</h3>
<p>A Group Source Record consists of a count of the animals in the Group Source at time <strong>t</strong>, stratified by sex, age, and health status (e.g., healthy, injured, sick, or dead). Other properties of the Group Source Record are observed anomalies, potential causes of disease or death if they apply at time <strong>t</strong>, among others (see Data Dictionary). Properties of a Group Source Record are documented at the group level and each property can receive multiple options. For example, a Group Source with three dead animals can receive several potential causes of death. Therefore, is not possible to know the distribution of several properties across individuals of the Group Source Record, but only that it was present in at least one individual (the exception is the “species” property and other properties when a Group Source has a single individual).</p>
<p>Group Source Records can include a mix of dead, diseased, poisoned, infected, injured, and healthy individuals or animals that belong to just one of these categories exclusively (all animals are dead for example). A Group Source Record of only healthy animals can also be part of a Health Event (e.g., animals of species X with all of them observed healthy next to dead animals of species Y and Z). Group Source Records can have a single individual. For example, rangers patrolling a protected area might find a dead animal of species X and two dead animals of species Y at the same site (Event) and rangers record their animal data as Group Sources. If this is the case, the animal of species X belong to a Group Source Record and the animals of species Y correspond to another Source Group Record. Moreover, if only a single animal of a known herd is observed at time <strong>t</strong>, then that individual is the representation of the herd for the Source Group Record. Finally, an Event can have more than one Group Source Record of the same species. For example, animals of the same species in two cages hold by a vendor in market where each vendor is considered an Event. Then each cage with the corresponding animals could be considered a unit, and therefore, a Group Source Record belonging to the same vendor (same Event).</p>
<p>An animal of species X documented as part of a Group Source Record must not be included as an Animal Source Record and vice-versa. If an Event contains a Group Source Record and an Animal Source Record of species X, then the total number of animals of species X at the Event is the sum of number of animals of species X in the Group Source Record and the single individual of species X recorded as an Animal Source Records. An example is a herd of cows illegally raised in a protected area whose health is assessed at time <strong>t</strong>. The herd of this example contains 20 cows. Two of them are sampled and the rest are part of a single unit. In this case, the sampled cows can be added as Animal Source Records (one per sampled cow) and the remaining 18 animals can be added as a single Group Source Record that distributes the animals per sex, age, and health status. The total number of cows are the individuals in the Group Source Record (18) and the two cows recorded as Animal Records (2). The “herd” identity of the 20 cows can be kept using a “Tag” (see below) so the three Source Records receive the same unit (another option is to add the 20 cows as a Group Source but the data of the specific animals sampled will be lost. See next section). If the Group Source Record contains the original 20 cows and also two Animal Source Records, then the total number of cows will be 22.</p>
</section>
</section>
<section id="animal-source" class="level2">
<h2 class="anchored" data-anchor-id="animal-source">Animal Source</h2>
<p>An Animal Source represents an individual animal whose specific individual-level data is of interest. Animal Sources can be observed, captured, and provide Specimens, including the full carcass to have a Necropsy completed. Animal Source data includes the species, the identifier, the cross identifier, the sex, and the date of death (see Data Dictionary). Past marking codes (if any have been used) are considered immutable and entered as data of an the Animal Source.</p>
<p>An example of Animal Sources are animals of different or the same species in a cage located in a live market. If the data of the animals is to be collected at the individual-level, then each individual represents an Animal Group Source in the cage.</p>
<section id="animal-source-record" class="level3">
<h3 class="anchored" data-anchor-id="animal-source-record">Animal Source Record</h3>
<p>An Animal Source Record consists of an Animal Source at time <strong>t</strong>. Properties of an Animal Source Record are its age, health status, observed anomalies, and potential cause of disease or death if they apply at time <strong>t</strong>, among others (see Data Dictionary). The marking of an individual animal at time <strong>t</strong> is considered mutable and a property of the corresponding Animal Source Record. Properties of an Animal Source Record can have single or multiple qualifications For example, the observed health status in only one (live healthy, live sick) but an Animal Source Record can receive several anomalies if they apply at time <strong>t</strong> (wounded, hair loss, diarrhea, etc. see Data Dictionary).</p>
<p>An Animal Source can be either dead, diseased, poisoned, infected, injured, or healthy at time <strong>t</strong>. An Animal Source Record with an observed health status “live healthy” can be part of an Event if they are of interest (e.g., a healthy animal of species X next to dead animals of species X, Y, and Z).</p>
<p>An animal of species X documented as part of a Group Source Record cannot be included as an Animal Source Record and vice versa. If an Event contains a Group Source Record and an Animal Source Record of species X, then the total number of animals of species X at the Event is the sum of number of animals of species X in the Group Source Record and the single individual of species X recorded as an Animal Source Record. An example is a herd of cows illegally raised in a protected area whose health is assessed at time <strong>t</strong>. The herd of this example contains 20 cows. Two of them are sampled and the rest are part of a single unit. In this case, the sampled cows can be added as Animal Source Records (one per sampled cow) and the remaining 18 animals can be added as a single Group Source Record that distributes the animals per sex, age, and health status. The total number of cows are the individuals in the Group Source Record (18) and the two cows recorded as Animal Records (2). The “herd” identity of the 20 cows can be kept using a “Tag” (see below) so the three Source Records receive the same unit (another option is to add the 20 cows as a Group Source but the data of the specific animals sampled will be lost. See next section). If the Group Source Record contains the original 20 cows and also two Animal Source Records, then the total number of cows will be 22.</p>
</section>
<section id="carcass" class="level3">
<h3 class="anchored" data-anchor-id="carcass">Carcass</h3>
<p>The carcass of an obvious dead Animal Source can be used as a source for Specimens and Diagnosis. A Carcass entered to the database comes from a specific Animal Source and they are collected at a single specific time <strong>t</strong>. Therefore, each Carcass is associated with one and only one Animal Source Record. Properties of a Carcass include its decomposition condition, storage during transport, storage in a facility, and its location (building, room, refrigerator, etc.), among others (see Data Dictionary). The data regarding changes in the storage of the carcass can have many units for the same carcass if it changes over time.</p>
<section id="necropsy" class="level4">
<h4 class="anchored" data-anchor-id="necropsy">Necropsy</h4>
<p>A Necropsy is associated with a specific Animal Source Record that can occur any date after the corresponding Animal is found dead. However, a Necropsy is tied to the Carcass, which is tied to the Animal Source Record when it was collected.</p>
<p>Necropsies can be primary or secondary. Primary necropsies usually start with an intact carcass (not previously used in a necropsy). Secondary necropsies are usually conducted by a veterinarian pathologist using pictures of the primary necropsy or using a carcass already necropsied.</p>
<p>New Specimens can be generated during a Necropsy (e.g., Specimens from the Carcass). In this case, the date of Specimen collection is not the date of the Animal Source Record when the Carcass was collected, but the date of the Necropsy (primary or secondary). It is possible to track if a Specimen was collected during the primary or secondary Necropsy based on the information entered for Specimens (see below).</p>
</section>
</section>
</section>
<section id="environmental-source" class="level2">
<h2 class="anchored" data-anchor-id="environmental-source">Environmental Source</h2>
<p>A Environmental Source is a unit in space where Specimens not associated with a Group Source, an Animal Source, or Arthropod Source can be collected from (e.g., feces found in the field). These Specimens can be of animal origin or not (biotic or abiotic). Data of an Environmental Source include the type of source, the species (only for biotic types if it is known), the identifier, and the cross identifier (see Data Dictionary). The species can be either NA (abiotic type such as water, sediment, or soil), “unknown” (e.g., “unknown” for feces found by themselves), or the most accurate taxonomy level that can be given to a biotic Environmental Source if barcoding or another species determination method is not used (e.g., “mammalia” for feces found by themselves).</p>
<section id="environmental-source-record" class="level3">
<h3 class="anchored" data-anchor-id="environmental-source-record">Environmental Source Record</h3>
<p>An Environmental Source Record is the Environmental Source at time <strong>t</strong>. Feces in the field can be tracked over time to assess pathogen decay. Specimens of water, sediment, air, or soil could be collected from the same space unit over time as well. The properties of an Environmental Source Record include if documentation of any problem during the collection of Specimens from the Environmental Source Record at time <strong>t</strong> and the nth time that tissue from the corresponding Environmental Source has been collected, among others (see Data Dictionary).</p>
</section>
</section>
<section id="arthropod-source" class="level2">
<h2 class="anchored" data-anchor-id="arthropod-source">Arthropod Source</h2>
<p>An Invertebrate Source is an invertebrate trap (e.g., CO2 traps, flag traps, etc.) placed in specific coordinates Invertebrate Sources can be added because the Surveillance Objective aims to collect invertebrates and potentially test them for vector-borne diseases.</p>
<p>The only immutable data of Invertebrate Sources is the trap. If the same type of trap is placed in the same coordinates, then Invertebrate Sources can be tracked longitudinally; however, the invertebrate species collected each time the trap is set can be different. Invertebrate Sources do not have sex, age, captivity category, anomalies, health status, potential cause of death, etc.</p>
<p>An Invertebrate Source contains data from a collection of invertebrates. If the interest is at the individual level (e.g., bees with problems in their wings), then the user should add Animal Sources.</p>
<section id="arthopod-source-record" class="level3">
<h3 class="anchored" data-anchor-id="arthopod-source-record">Arthopod Source Record</h3>
<p>Each Invertebrate Source has at least one Source Record. This first Source Record corresponds to setting the type of trap in specific coordinates. As mentioned in the previous section, if the same type of invertebrate trap is placed in the same coordinates, then Invertebrate Sources can be tracked over time and have as many Source Records as needed. If the type of trap changes, then it is a different Invertebrate Source.</p>
<p>Mutable data needs to be provided for each Invertebrate Source Record. The mutable data of Invertebrate Sources is the species captured (probably more than one). Obviously, the time t when the Invertebrate Source is recorded is also mutable.</p>
</section>
</section>
<section id="final-comment-on-sources-and-source-records" class="level2">
<h2 class="anchored" data-anchor-id="final-comment-on-sources-and-source-records">Final Comment on Sources and Source Records</h2>
<p>Users can group Source Records from different Sources beyond the Incident they belong to. For example, a Surveillance Objective involves sampling animals and cages in a market as part of targeted surveillance efforts. One of the potential options to structure these data is to set the market as the Location and set each vendor within the market as an ‘Incident’. Let’s pretend that in one of the Incidents (a vendor), a sample of feces is collected from the bottom of a cage, the cage has three animals of the same species, and only one of those animals is sampled (one oral swab sample).</p>
<p>Under this scenario, the cage is providing three Source Records. Firstly, an Environmental Source with a single Environmental Source Record containing the feces sampled from the bottom of the cage. Secondly, an Observation with the two animals in the cage that are only observed (Observations always have a single Record). And thirdly, an Animal Source with a single Animal Source Record containing the oral swab.</p>
<p>How to track that these Source Records belong to the same cage? The database provides tags per user request that allow to label Sources Records that belong to units lower than Incidents and keep them linked. In the example, the three Source Records can receive the same tag (“cage1”) in order to track that they have a more specific origin than Incident.</p>
<p>An Animal Source Record has data of a single animal always, which might or might not be identified individually and tracked over time.</p>
<p>Environmental and</p>
<p>In te case of env and arthropod sources, they could be equivalent to the location.</p>
<p>Incidents can include Observations (species) with healthy animals only, as long as they are part of a wildlife health event.</p>
<p>Each Observation generates one and only one Source Record with immutable data. In that unique Source Record animals are categorized by sex, age, and health status. The captivity categories of the corresponding animals; their anomalies; and potential causes of injury, disease, or dead can be provided.</p>
<p>Disgnostic test - visual assessment of death, sick injured? what about the potential causes of death?</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./incident.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Event</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./specimen.html" class="pagination-link">
        <span class="nav-page-text">Specimens</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>