<!-- # Grouping of Locations, Events, and Sources {.unnumbered} -->

### Clustering of Locations, Events, and Source Records


<!-- Locations can be clustered in larger nested or non-nested spatial units if needed. For a detail explanation, see "Clustering of Locations, Events, and Source Records" section below. -->


<!-- Events can be clustered in nested or non-nested spatial units smaller than Locations if needed and also in nested and non-nested temporal clusters (Events, and therefore, Source Records, are the only unit that can be clustered by a temporal group). For a detail explanation, see "Clustering of Locations, Events, and Source Records" section below. -->

<!-- Using a clustering variable, it is possible to track that the Specimens are coming from the same cage, in one case with animals and in the last one without animals (clustering the Sources coming from the same cage).  -->

The simplest data of a Field Visit is a single Location with a single Event where a single Source Record is collected. However, depending on the methodology of a specific Surveillance Activity, **Events can be clustered by units that are clustered by Locations and Locations can be clustered by units that are clustered by Field Visits**: 

- Field Visit<sub>w</sub>
  - **Cluster unit**<sub>ùõº</sub>
    - **Cluster unit**<sub>ùõΩ</sub>
      - Location<sub>x</sub>
        - **Cluster unit**<sub>Œ≥</sub>
          - **Cluster unit**<sub>ùõø</sub>
            - Event<sub>y</sub>
                - Source Record<sub>z</sub>
                

For example, the Locations can correspond to markets that are clustered by neighborhood and city. Then the Events (cages with animals) within the market can be clustered by stall and the stalls can be clustered by vendor.

- Field Visit<sub>w</sub>
  - **City**<sub>ùõº</sub>
    - **Neighborhood**<sub>ùõΩ</sub>
      - Location<sub>x</sub>
        - **Vendor**<sub>Œ≥</sub>
          - **Stall**<sub>ùõø</sub>
            - Event<sub>y</sub>
                - Source Record<sub>z</sub>
                
A second layer of complexity is the presence of spatial and temporal clusters. For example, the Locations can correspond to markets that are clustered by neighborhood and city. Then the Events (cages with animals) within the market can be clustered by stall and the stalls can be clustered by vendor. 

A second layer of complexity is the addition of clustered units that are not nested. For example, the same structure shown before plus the cluster of Source Records per season of the year (Temporal Cluster unit): 

- Field Visit<sub>w</sub>
  - **Spatial Cluster unit**<sub>ùõº</sub>
    - **Spatial Cluster unit**<sub>ùõΩ</sub>
      - Location<sub>x</sub>
        - **Spatial Cluster unit**<sub>Œ≥</sub>
          - **Spatial Cluster unit**<sub>ùõø</sub>
            - Event<sub>y</sub>
              - **Spatial Cluster unit**<sub>ùúÇ</sub>
              - **Temporal Cluster unit**<sub>–¥</sub>
                - Source Record<sub>z</sub>
                
Each of these Clusters can be either Spatial (e.g., County, City, Market, Vendor, Stall, Cage) or temporal (day, week, month, season, year, decade, etc)               
                
                

For example, the units Location, Event, and Source Record could be enough to record the data structure of a specific Surveillance Activity gathering information during patrols (Field Visits) in Protected Areas (Locations) at points (Events) where dead animals (Source Records) are found at any given time. However, another Surveillance Activity could have the following structure: patrol (Field Visit), protected area (cluster level 1), zones within protected area (Location), grid cells within each zone (cluster level 2), capture site (Event) with a pair of mist nests within each grid cell, mist nets of the capture site (cluster level 3), and bats captured (Source Records) per season (temporal cluster 1).

<!-- Further characteristics of each clustering unit, whether static or time dependent through the Surveillance Activity period, should be prepared in a file, such as an excel sheet, with columns with the identifiers of all relevant units (Location grouping units. Event grouping units that are not the Location, and Source Record grouping units that are not the Event) and  attached it at the corresponding level. A recommendation is to prepared a sheet for the features of all spatio temporal grouping units visited during a Field Visit and attach it at this level (Field Visit). The columns with the identifiers will allow joining the data of the corresponding Field Visit (Locations, Events, Source Records, grouping units) with the attached and spatial data. -->

In another example, a Surveillance Activity involved sampling animals and cages in a market. One of the potential options to structure these data is to set the market as the Location and set each vendor within the market as an Event. Animals are in cages and cages are clustered in stalls. In one of the Events (a vendor), a sample of feces is collected from the bottom of a cage, the cage has three animals of the same species X, and only one of these three animals is sampled (Animal Source). In this scenario, the Sources (a Group Source Record with two animals of species X and a Animal Source Record of species X also), are clustered by cage (clustering unit 1), by stall (clustering group 2), Event (vendor), Location (market), and Field Activity.

To accommodate these structures, the data model allows the inclusion of clustering levels between the Source Record and Event, Event and Location, and Location and Field Visit. The data model also allows the inclusion of non-nested clustering units. Unavoidably, the number of clustering levels, what each of these clustering units represent, what they are clustering, and the data to be collected from each of these extra units will vary among Surveillance Activities. Therefore, clustering units properties and what their represent must be reported in the Surveillance Activity metadata. The only default properties for each unit are the identifier, the cross identifier, the origin of the cross identifier, and a description. Other potential properties must be documented in a separate file (e.g., an 
excel sheet) with common identifiers to allow joining the clusters with the corresponding data.

 a single level measn non-nested clustering
