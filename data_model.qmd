# WildHealth Data Model {.unnumbered}

```{r, echo=FALSE}
# htmltools::img(src = knitr::image_uri("Pictures_and_diagrams/WCS_LOGOTYPE.png"), 
#                alt = 'logo', 
#                style = 'position:fixed; 
#                         top:0;
#                         right:0; 
#                         padding:70px;',
#                width = "300px", 
#                heigth = "300px")
# 
# 
# htmltools::img(src = knitr::image_uri("Pictures_and_diagrams/wcpa-logo.png"), 
#                alt = 'logo', 
#                style = 'position:fixed; 
#                         top:90;
#                         right:0; 
#                         padding:70px;',
#                width = "300px", 
#                heigth = "300px")

htmltools::div(
  htmltools::a(
    href = "https://www.whin.org", target = "_blank",
    htmltools::img(src = knitr::image_uri("Pictures_and_diagrams/WHINlogo.png"),
                   alt = 'WHIN logo',  
                   style = "position: fixed; right: 10px; top: 0%; width: 220px;")
  ),
  htmltools::a(
    href = "https://www.wcs.org", target = "_blank",
    htmltools::img(src = knitr::image_uri("Pictures_and_diagrams/WCS_LOGOTYPE.png"),
                   alt = 'WCS logo',  
                   style = "position: fixed; right: 10px; top: 13%; width: 200px;")
  ),
  htmltools::a(
    href = "https://www.iucn.org/our-union/commissions/world-commission-protected-areas", target = "_blank",
    htmltools::img(src = knitr::image_uri("Pictures_and_diagrams/wcpa-logo.png"),
                   alt = 'WCPA logo',  
                   style = "position: fixed; right: 10px; top: 20%; width: 200px;")
  )
)

```


The **WildHealth Data Model** is designed accommodate wildlife health data from various sources, including local to national wildlife health surveillance systems, research initiatives, and citizen-science based projects. 


Wildlife health surveillance (WHS) is critical for addressing health hazards threatening wildlife and undermining One Health. It involves a comprehensive set of activities aimed at continuously and rapidly generating and analyzing information on the health of wildlife and associated hazards. WHS systems, the organized set of resources and procedures to conduct WHS, generate information on health state (e.g., trace minerals, immune function, pathogens, toxic agents), diseases, and their population-level effects in wildlife, with the objective to prevent, mitigate, control, or eliminate health hazards and support population resilience.

As a result, WHS systems rely on diverse data, including environmental features, animal observations, specimen collections, necropsy findings, diagnostic tests results, photographic records, video footage, etc., generated by many actors through various methodologies. These diverse data need to be harmonized under a standardized structure and vocabulary to facilitate assessments and response, and their inclusion in multisectoral One Health frameworks. 

On the other hand, the management of WHS data has been a historical problem that persists into the present. WHS data are often lost; harmonization and standardization remain poorly implemented. The Wildlife Health Intelligence Network developed this data model to address these challenges and promote best data practices.

## Introduction

The data model contains units that are hierarchical organized capturing relevant epidemiological information at each step:

1. **Projects**: A set of Surveillance Activities with a common leader and organizer (e.g., a national wildlife health surveillance system).
2. **Surveillance Activities**: Specific sets of surveillance goals and methodology documented following a standard metadata format.
3. **Field Visits**: Time period during which activities are conducted in the field.
4. **Locations**: Specific areas where surveillance activities are conducted.
5. **Events**: Epidemiological units with a spatiotemporal coordinate where wildlife health surveillance data is collected.
6. **Collections**: Different methods and efforts to obtain Source Records from Sources within an Event.
7. **Sources**: Units that can provide Specimens for hazard detection or whose health is assessed at a specific time. There are four Source types:​
      * *Group*: groups of animals of the same species.
      * *Animal*: Individual animals that can be observed, examined, sampled, and necropsied.
      * *Environmental*: environmental sampling sites (e.g., ponds or feces in the field).
      * *Arthropod*: arthropod capture sites.
8. **Source Records**: Records of the Sources at a specific time.
9. **Specimens**: Tissues taken from the Sources at a specific time.
10. **Diagnostics**: Tests conducted on live animals, carcasses, or collected Specimens to assess hazards.
11. **Interpretation**: The final status assigned to a Diagnostic, Specimen, or Source Record following documented case definitions.
 
**The basic relationships among the basic units of the data model** are shown in Figure 1 below:


![](Pictures_and_diagrams/relationship_data_model.png){width=100%}

**Figure 1**: Basic relationships among the basic units of the data model.

The data model adapts to the complexity of the wildlife health data, remaining simple for straightforward cases and becoming more intricate as data structure and variability increase. Many components of the model are conditional, meaning they are needed depending on the data structure. For example, consider wildlife mortality reported by a community member through a mobile application:

* The Surveillance Activity metadata must describe the methodology.
* The Field Visit could be defined annually to categorize reports by year.
* The Location could be a county or zip code.
* The Event is the epidemiological unit with latitude, longitude, and time representing dead animals found.
* No Specimens, Diagnostics, or Laboratory data are generated.
* No Collection effort is linked to the Events and the animals are found opportunistically.
* The animals are not grouped beyond the Field Visit, Location, and Events, so no clusters are needed.


![](Pictures_and_diagrams/simple_example.png){width=100%}

**Figure 2**: Components of the data model to contain data from example 1.

This flexible structure ensures that the model remains efficient and scalable, adapting to different surveillance needs.

<!-- The next example is a series of surveys in wildlife farms to identify pathogens. Surveys are conducted every 3 months and each one of them include all the farms in the study. The farms are distributed in several counties. Each farm has several species that are distributed in barns, aisles, pens, and cages. Seasonal changes are assessed as well. All the animals of the cages will be sampled (rectal and oral swab each one). Fecal samples will be collected from the cages directly as well. Finally, each sample will be tested for 3 pathogens. In this example, there could be a single Surveillance Activity with the three pathogens included, or three Surveillance Activities with the same methods except the targeted hazards (one Surveillance Activity per pathogen is recommended). The data includes **Field Visits every three months**. Each one of these Field Visits includes all the counties were the farms are located. If each farm is a Location, then the Locations must be clustered by county. Also, if the Event within each farm is a cage with animals, then the Events must be clustered by pen, aisles, and barns. In the manner the structure of the data is Field Visit, county (cluster), farms (Location), barns (cluster), aisles (cluster), pens (cluster), and cages (Event). Depending on the number of cages per pen, there could be multiple or a unique Event per pen. Each Event will have as many Sources at time *t* as animals are per each cage. Continuing with the animals (Sources), two Specimens are collected from each one of them and they are tested for three pathogens for a total of six tests per individual. Furthermore, each cage Event also has a Group Source Record, corresponding to the animals that are in the cage as a group. This Group Source Record has a fecal Specimen associated also tested for three pathogens. -->

<!-- # Figure first exaple -->

The data model is **not designed for wildlife population monitoring**. However, it includes key identifiers that enable seamless integration between wildlife health and population data.

More complex relationships between the fundamental units of the data model, as well as additional details, are covered in the Complexities section. Before exploring these advanced topics, it is recommended to first understand the core components of the model—from Project to Diagnosis—by continuing with this documentation. Use the menu in the top-right corner of this website to navigate to the relevant sections.

# Main Units of the Data Model

## Project

```{r child="project.qmd" , echo=FALSE, eval=T, message=FALSE, cache=F}

```

## Surveillance Activity 

![](Pictures_and_diagrams/Picture3.png){width=100%}

```{r child="surveillance_objective.qmd" , echo=FALSE, eval=T, message=FALSE, cache=F}

```


## Field Visit

![](Pictures_and_diagrams/Picture4.png){width=100%}

```{r child="field_activity.qmd", echo=FALSE, eval=T, message=FALSE, cache=F}

```

## Location

![](Pictures_and_diagrams/Picture5.png){width=100%}

```{r child="location.qmd", echo=FALSE, eval=T, message=FALSE, cache=F}

```

## Event

![](Pictures_and_diagrams/Picture6.png){width=100%}

```{r child="incident.qmd", echo=FALSE, eval=T, message=FALSE, cache=F}

```

## Collection

![](Pictures_and_diagrams/Picture7.png){width=100%}

```{r child="collections.qmd", echo=FALSE, eval=T, message=FALSE, cache=F}

```

## Source and Source Records

![](Pictures_and_diagrams/Picture8.png){width=100%}

```{r child="source_source_records.qmd", echo=FALSE, eval=T, message=FALSE, cache=F}

```

## Specimen

![](Pictures_and_diagrams/Picture9.png){width=100%}

```{r child="specimen.qmd", echo=FALSE, eval=T, message=FALSE, cache=F}

```

## Diagnostics

![](Pictures_and_diagrams/Picture10.png){width=100%}

```{r child="diagnostics.qmd", echo=FALSE, eval=T, message=FALSE, cache=F}

```

<!-- ## Diagnosis -->

<!-- ![](Pictures_and_diagrams/Picture11.png){width=100%} -->

```{r child="diagnosis.qmd", echo=FALSE, eval=F, message=FALSE, cache=F}

```


# Complexities

## Storage

In the data model, Specimens from all Sources (including Diagnostic Products) and Carcasses of Animal Sources can be stored, their storage can be tracked, and changes in storage can be traced. 

## Export

In the data model, Specimens from all Sources (including Diagnostic Products) and Carcasses of Animal Sources can be exported and exportations can be tracked.

## Laboratories

The data model includes Laboratory entities. Laboratories can conduct Diagnostics to test for hazards in Specimens or in full Source Records (Field-based Diagnostics or simple Diagnostics conducted by people are also possible in the data model. See Diagnostics). Laboratory properties include address, manager, name, Laboratory ID, among others (Data Dictionary). It is also possible to store data regarding Laboratory capabilities in terms of diagnostic tests and storage, and their certifications (Bio safety levels, etc.)

## Interpretation

#### Interpretation of a Hazard's detection in a Diagnostic

In the data model, Interpretation of a Diagnostic is the conclusion regarding the detection of a hazard using a Diagnostic targeting that specific hazard, based on a case definition for a positive, negative, or undetermined result provided in the Surveillance Activity metadata. Each Diagnostic receives one Interpretation only.

#### Interpretation of a Hazard's presence in a Specimen

In the data model, Interpretation of a Hazard in a Specimen is the conclusion regarding the presence or absence of a specific hazard in a Specimen, based on a case definition for a positive, negative, or undetermined Specimen provided in the Surveillance Activity metadata. The interpretation follows the results from the Diagnostic(s) conducted using the Specimen and the corresponding Diagnostic(s) Interpretation(s). Specimens can receive multiple Interpretations if they are used to conduct several Diagnostics to assess several hazards or if the same hazard is assessed more than once in different diagnostics.

#### Interpretation of a Hazard's presence in a Source Record

In the data model, Interpretation of a Hazard in a Source Record is the conclusion regarding the presence or absence of a specific hazard in a Source Record, based on a case definition for a positive, negative, or undetermined Source Record provided in the Surveillance Activity metadata. The interpretation follows the results of the Diagnostic(s) conducted using the Source Record, the Source Record Specimen(s), the corresponding Diagnostic(s), anomalies in the Source Record at a Event, and Necropsy findings.

Source Records can receive multiple Interpretations if multiple hazards are assessed in them or the same hazard is assessed more than once. Sources can have many Interpretations through several Source Records if multiple hazards are assessed in them at time *t* (Source Record), if the same hazard is assessed more than once at time *t* (Source Record), or if different or the same hazard are assessed over time (several Source Records of the same Source over time).

```{r child="groups.qmd", echo=FALSE, eval=T, message=FALSE, cache=F}

```


```{r child="complexities_surv_act.qmd", echo=FALSE, eval=T, message=FALSE, cache=F}

```


# All Units in the Data Model and All Relationships

Considering the details explained in the Complexities section, a summary of the relationships in the data model is provided in the following figure (the orange Units and connections apply to Animal Sources only. The green line apply to Group and Animal Source Records only):

![](Pictures_and_diagrams/Relationships_All_Sources.png){width="680"}


<!-- #Recommnedations for Standardization -->

```{r child="standardized_recommendations.qmd", echo=FALSE, eval=F, message=FALSE, cache=F}

```